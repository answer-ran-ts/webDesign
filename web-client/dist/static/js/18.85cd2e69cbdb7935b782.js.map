{"version":3,"sources":["webpack:///src/pages/Admin/Children/AdminGoods.vue","webpack:///./src/pages/Admin/Children/AdminGoods.vue?17f2","webpack:///./src/pages/Admin/Children/AdminGoods.vue"],"names":["AdminGoods","data","category","currentIndex","pageSize","tableData","tempData","mounted","this","getAllGoods","methods","handleEdit","index","row","console","log","window","localStorage","setItem","stringify_default","$router","replace","handleDelete","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee2","wrap","_context2","prev","next","$confirm","confirmButtonText","cancelButtonText","type","then","_callee","_context","Object","api","goods_id","sent","success_code","$message","message","stop","catch","handleCurrentChange","val","_this2","forEach","push","_this3","_callee3","result","_context3","computed","pageNum","Math","ceil","length","filters","priceFormat","price","toFixed","Children_AdminGoods","render","_vm","_h","$createElement","_c","_self","staticStyle","width","attrs","scopedSlots","_u","key","fn","props","staticClass","label-position","inline","label","_v","_s","short_name","_f","counts","goods_name","src","thumb_url","prop","size","on","click","$event","$index","background","layout","page-count","current-change","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/18.85cd2e69cbdb7935b782.js","sourcesContent":["<template>\r\n  <div>\r\n    <el-table\r\n      :data=\"tempData\"\r\n      style=\"width: 100%\">\r\n      <el-table-column type=\"expand\">\r\n        <template slot-scope=\"props\">\r\n          <el-form label-position=\"left\" inline class=\"demo-table-expand\">\r\n            <el-form-item label=\"商品名称\">\r\n              <span>{{ props.row.short_name }}</span>\r\n            </el-form-item>\r\n            <el-form-item label=\"商品 ID\">\r\n              <span>{{ props.row.goods_id }}</span>\r\n            </el-form-item>\r\n            <el-form-item label=\"商品分类\">\r\n              <span>{{ category[props.row.category - 1] }}</span>\r\n            </el-form-item>\r\n            <el-form-item label=\"商品价格\">\r\n              <span>{{ (props.row.price / 100) | priceFormat}}</span>\r\n            </el-form-item>\r\n            <el-form-item label=\"商品库存\">\r\n              <span>{{ props.row.counts }}</span>\r\n            </el-form-item>\r\n            <el-form-item label=\"商品描述\">\r\n              <span>{{ props.row.goods_name }}</span>\r\n            </el-form-item>\r\n            <el-form-item label=\"商品图片\">\r\n              <img :src=\"props.row.thumb_url\" style=\"width:70px\"/>\r\n            </el-form-item>\r\n          </el-form>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        label=\"商品 ID\"\r\n        prop=\"goods_id\">\r\n      </el-table-column>\r\n      <el-table-column\r\n        label=\"商品名称\"\r\n        prop=\"short_name\">\r\n      </el-table-column>\r\n      <el-table-column\r\n        label=\"描述\"\r\n        prop=\"goods_name\">\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\">\r\n        <template slot-scope=\"props\">\r\n          <el-button\r\n            size=\"mini\"\r\n            @click=\"handleEdit(props.$index, props.row)\">编辑</el-button>\r\n          <el-button\r\n            size=\"mini\"\r\n            type=\"danger\"\r\n            @click=\"handleDelete(props.$index, props.row)\">删除</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <el-pagination\r\n      background\r\n      layout=\"prev, pager, next\"\r\n      :page-count=\"pageNum\"\r\n      @current-change=\"handleCurrentChange\">\r\n    </el-pagination>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import {getAllgoods,deleteRecomGoods} from './../../../api/index';\r\n  import {mapState} from 'vuex';\r\n  import {mapActions} from 'vuex'\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        category: ['图书、音像','家居生活','服饰、箱包','电子产品','美食宝典'],\r\n        currentIndex: 1,\r\n        pageSize: 5,\r\n        tableData: [],\r\n        tempData: [],\r\n      }\r\n    },\r\n    mounted(){\r\n      this.getAllGoods();\r\n    },\r\n    methods: {\r\n      handleEdit(index, row) {\r\n        console.log(index, row);\r\n        window.localStorage.setItem('goodsInfo',JSON.stringify(row));\r\n        this.$router.replace('/admin/adminupdate');\r\n      },\r\n      async handleDelete(index, row) {\r\n        this.$confirm('您确定永久删除该商品吗?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then( async() => {\r\n\t\t  let result = await deleteRecomGoods(row.goods_id);\r\n          if(result.success_code === 200){\r\n            this.$message({\r\n              type: 'success',\r\n              message: '已删除'\r\n            });\r\n          }\r\n        }).catch(() => {\r\n          this.$message({\r\n            type: 'info',\r\n            message: '已取消删除'\r\n          });\r\n        });\r\n      },\r\n      handleCurrentChange(val) {\r\n        this.currentIndex = val;\r\n        this.tempData = [];\r\n        this.tableData.forEach((data,index)=>{\r\n          if(index >= (this.currentIndex-1) * this.pageSize && index < (this.currentIndex) * this.pageSize){\r\n            this.tempData.push(data);\r\n          }\r\n        });\r\n      },\r\n      async getAllGoods(){\r\n        let result = await getAllgoods();\r\n        if(result.success_code === 200){\r\n          this.tableData = result.message;\r\n          this.tableData.forEach((data,index)=>{\r\n            if(index >= (this.currentIndex-1) * this.pageSize && index < (this.currentIndex) * this.pageSize){\r\n              this.tempData.push(data);\r\n            }\r\n          });\r\n        }\r\n      },\r\n    },\r\n    computed: {\r\n      pageNum(){\r\n        return Math.ceil(this.tableData.length / this.pageSize);\r\n      }\r\n    },\r\n    filters: {\r\n      priceFormat(price) {\r\n        return price.toFixed(2);\r\n      },\r\n    },\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  .el-table{\r\n    margin: 20px auto 50px;\r\n  }\r\n  .demo-table-expand {\r\n    font-size: 0;\r\n  }\r\n  .demo-table-expand label {\r\n    width: 90px;\r\n    color: #99a9bf;\r\n  }\r\n  .demo-table-expand .el-form-item {\r\n    margin-right: 0;\r\n    margin-bottom: 0;\r\n    width: 50%;\r\n  }\r\n  .el-pagination{\r\n    text-align: center;\r\n  }\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/Admin/Children/AdminGoods.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tempData}},[_c('el-table-column',{attrs:{\"type\":\"expand\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('el-form',{staticClass:\"demo-table-expand\",attrs:{\"label-position\":\"left\",\"inline\":\"\"}},[_c('el-form-item',{attrs:{\"label\":\"商品名称\"}},[_c('span',[_vm._v(_vm._s(props.row.short_name))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品 ID\"}},[_c('span',[_vm._v(_vm._s(props.row.goods_id))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品分类\"}},[_c('span',[_vm._v(_vm._s(_vm.category[props.row.category - 1]))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品价格\"}},[_c('span',[_vm._v(_vm._s(_vm._f(\"priceFormat\")((props.row.price / 100))))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品库存\"}},[_c('span',[_vm._v(_vm._s(props.row.counts))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品描述\"}},[_c('span',[_vm._v(_vm._s(props.row.goods_name))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品图片\"}},[_c('img',{staticStyle:{\"width\":\"70px\"},attrs:{\"src\":props.row.thumb_url}})])],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"商品 ID\",\"prop\":\"goods_id\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"商品名称\",\"prop\":\"short_name\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"描述\",\"prop\":\"goods_name\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleEdit(props.$index, props.row)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDelete(props.$index, props.row)}}},[_vm._v(\"删除\")])]}}])})],1),_vm._v(\" \"),_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"page-count\":_vm.pageNum},on:{\"current-change\":_vm.handleCurrentChange}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-105d2f2e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/Admin/Children/AdminGoods.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-105d2f2e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./AdminGoods.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AdminGoods.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AdminGoods.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-105d2f2e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./AdminGoods.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-105d2f2e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/Admin/Children/AdminGoods.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}